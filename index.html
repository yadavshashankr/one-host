<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
    
    <!-- Primary Meta Tags -->
    <title>One-Host - Secure P2P File Sharing</title>
    <meta name="title" content="One-Host - Secure P2P File Sharing">
    <meta name="description" content="Share files instantly and securely between devices using One-Host's peer-to-peer WebRTC technology. No server required!">

    <!-- Open Graph / Facebook -->
    <meta property="og:type" content="website">
    <meta property="og:url" content="https://yadavshashankr.github.io/one-host/">
    <meta property="og:title" content="One-Host - Secure P2P File Sharing">
    <meta property="og:description" content="Share files instantly and securely between devices using One-Host's peer-to-peer WebRTC technology. No server required!">
    <!-- Primary og:image for WhatsApp -->
    <meta property="og:image" content="https://yadavshashankr.github.io/one-host/assets/og-whatsapp.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="400">
    <meta property="og:image:height" content="400">
    <!-- Secondary og:image for other platforms -->
    <meta property="og:image" content="https://yadavshashankr.github.io/one-host/assets/og.png">
    <meta property="og:image:type" content="image/png">
    <meta property="og:image:width" content="1200">
    <meta property="og:image:height" content="630">
    <meta property="og:image:alt" content="One-Host - P2P File Sharing Application">
    <meta property="og:locale" content="en_US">

    <!-- Twitter -->
    <meta name="twitter:card" content="summary_large_image">
    <meta name="twitter:url" content="https://yadavshashankr.github.io/one-host/">
    <meta name="twitter:title" content="One-Host - Secure P2P File Sharing">
    <meta name="twitter:description" content="Share files instantly and securely between devices using One-Host's peer-to-peer WebRTC technology. No server required!">
    <meta name="twitter:image" content="https://yadavshashankr.github.io/one-host/assets/og.png">
    <meta name="twitter:image:alt" content="One-Host - P2P File Sharing Application">
    
    <!-- Cache Control -->
    <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
    <meta http-equiv="Pragma" content="no-cache">
    <meta http-equiv="Expires" content="0">
    
    <!-- Apple/Mobile Specific -->
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <meta name="apple-mobile-web-app-title" content="One-Host">

    <!-- Favicons -->
    <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png">
    <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
    <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
    <link rel="icon" type="image/svg+xml" href="assets/logo.svg">

    <link rel="stylesheet" href="style.css" />
    <!-- PeerJS for WebRTC -->
    <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
    <!-- QR Code generation -->
    <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
    <!-- Material Icons -->
    <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
</head>
<body>
    <!-- Connection Setup Modal -->
    <div id="setup-modal" class="modal">
        <div class="modal-content">
            <div class="logo-container">
                <img src="assets/logo.svg" alt="One-Host" class="logo">
            </div>
            <div id="browser-support" class="hidden warning">
                ⚠️ Your browser may not fully support WebRTC features
            </div>
            <div class="peer-info">
                <h2>Your Peer ID</h2>
                <div class="peer-id-container">
                    <div class="peer-id-display">
                        <span id="peer-id">Generating...</span>
                        <input type="text" id="peer-id-edit" class="peer-id-edit hidden" maxlength="20" placeholder="Enter custom peer ID">
                    </div>
                    <div class="peer-actions">
                        <button id="edit-id" class="icon-button" title="Edit ID">
                            <span class="material-icons">edit</span>
                        </button>
                        <button id="save-id" class="icon-button hidden" title="Save ID">
                            <span class="material-icons">check</span>
                        </button>
                        <button id="cancel-edit" class="icon-button hidden" title="Cancel">
                            <span class="material-icons">close</span>
                        </button>
                        <button id="copy-id" class="icon-button" title="Copy ID">
                            <span class="material-icons">content_copy</span>
                        </button>
                        <button id="share-id" class="icon-button" title="Share ID">
                            <span class="material-icons">share</span>
                        </button>
                    </div>
                </div>
                <div id="qrcode-container">
                    <div id="qrcode"></div>
                </div>
            </div>

            <div class="connect-peer">
                <h2>Connect to Peer</h2>
                <div class="input-group">
                    <div class="peer-input-container">
                        <input type="text" id="remote-peer-id" placeholder="Enter peer ID">
                        <div id="recent-peers" class="recent-peers hidden">
                            <div class="recent-peers-header">
                                Recent Connections
                                <button id="clear-peers" class="clear-peers">
                                    <span class="material-icons">clear_all</span>
                                </button>
                            </div>
                            <ul id="recent-peers-list"></ul>
                        </div>
                    </div>
                    <button id="connect-button" class="button primary">
                        <span class="material-icons">link</span>
                        <span>Connect</span>
                    </button>
                </div>
            </div>
        </div>
    </div>

    <!-- Main Chat Interface -->
    <div class="chat-container hidden" id="chat-container">
        <!-- Chat Header -->
        <div class="chat-header">
            <button id="back-to-setup" class="icon-button">
                <span class="material-icons">arrow_back</span>
            </button>
            <div class="peer-info">
                <div class="peer-name" id="connected-peer">Not Connected</div>
                <div class="connection-status">
                    <div id="status-dot" class="status-dot"></div>
                    <span id="status-text">Initializing...</span>
                </div>
            </div>
            <div class="header-actions">
                <button id="toggle-files" class="icon-button" title="Toggle Files Panel">
                    <span class="material-icons">folder</span>
                </button>
                <button id="menu-button" class="icon-button">
                    <span class="material-icons">more_vert</span>
                </button>
            </div>
        </div>

        <!-- Chat Messages Area -->
        <div class="messages-container">
            <div id="messages" class="messages"></div>
        </div>

        <!-- Files Panel (Sliding) -->
        <div id="files-panel" class="files-panel">
            <div class="files-header">
                <h3>Files</h3>
                <button id="close-files" class="icon-button">
                    <span class="material-icons">close</span>
                </button>
            </div>
            <div class="files-content">
                <div class="files-section">
                    <h4>Sent Files</h4>
                    <ul id="sent-files-list" class="files-list"></ul>
                </div>
                <div class="files-section">
                    <h4>Received Files</h4>
                    <ul id="received-files-list" class="files-list"></ul>
                </div>
            </div>
        </div>

        <!-- Input Area -->
        <div class="input-area">
            <div id="transfer-progress" class="transfer-progress hidden">
                <div class="progress-bar">
                    <div id="progress" class="progress"></div>
                </div>
                <div id="transfer-info" class="transfer-info"></div>
            </div>
            <div class="input-container">
                <button id="attach-button" class="icon-button">
                    <span class="material-icons">attach_file</span>
                </button>
                <input type="text" id="message-input" placeholder="Type a message">
                <button id="send-message" class="icon-button">
                    <span class="material-icons">send</span>
                </button>
                <input type="file" id="file-input" multiple class="hidden">
            </div>
        </div>
    </div>

    <!-- Notifications -->
    <div id="notifications" class="notifications"></div>

    <script src="script.js"></script>
</body>
</html>

<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  
  <!-- Primary Meta Tags -->
  <title>One-Host</title>
  <meta name="title" content="One-Host - Secure P2P File Sharing">
  <meta name="description" content="Share files instantly and securely between devices using One-Host's peer-to-peer WebRTC technology. No server required!">
  <meta name="author" content="Shashank Yadav">
  <meta name="keywords" content="file sharing, p2p, webrtc, peer to peer, secure file transfer">

  <!-- Favicon -->
  <link rel="icon" type="image/svg+xml" href="assets/tablogo.svg">
  <link rel="icon" type="image/png" sizes="32x32" href="assets/favicon/favicon-32x32.png">
  <link rel="icon" type="image/png" sizes="16x16" href="assets/favicon/favicon-16x16.png">
  <link rel="apple-touch-icon" sizes="180x180" href="assets/favicon/apple-touch-icon.png">
  <link rel="mask-icon" href="assets/tablogo.svg" color="#2196F3">
  <meta name="msapplication-TileColor" content="#2196F3">
  <meta name="theme-color" content="#2196F3">

  <!-- Open Graph / Facebook -->
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://yadavshashankr.github.io/one-host/">
  <meta property="og:site_name" content="One-Host">
  <meta property="og:title" content="One-Host - Secure P2P File Sharing">
  <meta property="og:description" content="Share files instantly and securely between devices using One-Host's peer-to-peer WebRTC technology. No server required!">
  <!-- Primary og:image for WhatsApp -->
  <meta property="og:image" content="https://yadavshashankr.github.io/one-host/assets/og-whatsapp.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="400">
  <meta property="og:image:height" content="400">
  <!-- Secondary og:image for other platforms -->
  <meta property="og:image" content="https://yadavshashankr.github.io/one-host/assets/og.png">
  <meta property="og:image:type" content="image/png">
  <meta property="og:image:width" content="1200">
  <meta property="og:image:height" content="630">
  <meta property="og:image:alt" content="One-Host - P2P File Sharing Application">
  <meta property="og:locale" content="en_US">

  <!-- Twitter -->
  <meta name="twitter:card" content="summary_large_image">
  <meta name="twitter:url" content="https://yadavshashankr.github.io/one-host/">
  <meta name="twitter:title" content="One-Host - Secure P2P File Sharing">
  <meta name="twitter:description" content="Share files instantly and securely between devices using One-Host's peer-to-peer WebRTC technology. No server required!">
  <meta name="twitter:image" content="https://yadavshashankr.github.io/one-host/assets/og.png">
  <meta name="twitter:image:alt" content="One-Host - P2P File Sharing Application">
  
  <!-- Cache Control -->
  <meta http-equiv="Cache-Control" content="no-cache, no-store, must-revalidate">
  <meta http-equiv="Pragma" content="no-cache">
  <meta http-equiv="Expires" content="0">
  
  <!-- Apple/Mobile Specific -->
  <meta name="apple-mobile-web-app-capable" content="yes">
  <meta name="apple-mobile-web-app-status-bar-style" content="black">
  <meta name="apple-mobile-web-app-title" content="One-Host">

  <link rel="stylesheet" href="style.css" />
  <!-- PeerJS for WebRTC -->
  <script src="https://unpkg.com/peerjs@1.5.2/dist/peerjs.min.js"></script>
  <!-- QR Code generation -->
  <script src="https://cdnjs.cloudflare.com/ajax/libs/qrcodejs/1.0.0/qrcode.min.js"></script>
  <!-- Material Icons -->
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons" rel="stylesheet">
  <!-- Emoji Picker -->
  <script src="https://cdn.jsdelivr.net/npm/emoji-picker-element@1.18.3/index.js" type="module"></script>
</head>
<body>
  <div class="container">
    <div class="chat-container">
      <!-- Conversation List Sidebar -->
      <div class="conversation-list">
        <button class="hamburger-menu" title="Toggle Sidebar">
            <span class="material-icons">menu</span>
        </button>
        <div class="sidebar-header">
          <div class="user-info">
            <div class="avatar">
              <span class="material-icons">account_circle</span>
            </div>
            <div class="peer-id-container">
              <div class="peer-id-display">
                <span id="peer-id">Generating...</span>
                <input type="text" id="peer-id-edit" class="peer-id-edit hidden" maxlength="20" placeholder="Enter custom peer ID">
              </div>
              <div class="peer-actions">
                <button id="edit-id" class="icon-button" title="Edit ID">
                  <span class="material-icons">edit</span>
                </button>
                <button id="save-id" class="icon-button hidden" title="Save ID">
                  <span class="material-icons">check</span>
                </button>
                <button id="cancel-edit" class="icon-button hidden" title="Cancel">
                  <span class="material-icons">close</span>
                </button>
              </div>
            </div>
          </div>
          <div class="sidebar-actions">
            <button id="share-id" class="icon-button" title="Share ID">
              <span class="material-icons">share</span>
            </button>
            <button id="qr-code-toggle" class="icon-button" title="Show QR Code">
              <span class="material-icons">qr_code</span>
            </button>
            <button id="theme-toggle" class="icon-button" title="Toggle Dark Mode">
              <span class="material-icons">dark_mode</span>
            </button>
          </div>
        </div>
        
        <div class="search-container">
          <div class="search-input-wrapper">
            <span class="material-icons">search</span>
            <input type="text" id="peer-search" placeholder="Search or enter peer ID">
          </div>
        </div>

        <div id="qrcode-container" class="hidden">
          <div id="qrcode"></div>
        </div>

        <div class="conversations">
          <div id="recent-peers" class="recent-peers">
            <div class="recent-peers-header">
              Recent Connections
              <button id="clear-peers" class="clear-peers">
                <span class="material-icons">clear_all</span>
              </button>
            </div>
            <ul id="recent-peers-list"></ul>
          </div>
        </div>
      </div>

      <!-- Chat Window -->
      <div class="chat-window">
        <!-- Initial Connection Screen -->
        <div id="welcome-screen" class="welcome-screen">
          <img src="assets/logo.svg" alt="One-Host" class="logo">
          <h2>Welcome to One-Host Chat</h2>
          <p>Connect with peers securely using WebRTC technology.</p>
          <div id="browser-support" class="hidden warning">
            ⚠️ Your browser may not fully support WebRTC features
          </div>
        </div>

        <!-- Active Chat Interface -->
        <div id="active-chat" class="hidden">
          <div class="chat-header">
            <button class="hamburger-menu" title="Toggle Sidebar">
                <span class="material-icons">menu</span>
            </button>
            <div class="chat-peer-info">
              <div class="avatar">
                <span class="material-icons">account_circle</span>
              </div>
              <div class="peer-details">
                <div class="peer-name"></div>
                <div class="peer-status">
                  <div class="status-indicator">
                    <div id="status-dot" class="status-dot"></div>
                    <span id="status-text">Offline</span>
                  </div>
                </div>
              </div>
            </div>
            <div class="chat-actions">
              <button class="icon-button" id="attach-file" title="Attach File">
                <span class="material-icons">attach_file</span>
              </button>
              <button class="icon-button" id="chat-menu" title="Menu">
                <span class="material-icons">more_vert</span>
              </button>
            </div>
          </div>

          <div class="message-list" id="message-list">
            <!-- Messages will be inserted here -->
          </div>

          <div id="typing-indicator" class="typing-indicator hidden">
            <span>Typing...</span>
          </div>

          <!-- Message Input Area -->
          <div class="message-input-container">
              <div class="message-actions">
                  <button class="icon-button" id="emoji-button" title="Emoji">
                      <span class="material-icons">sentiment_satisfied_alt</span>
                  </button>
                  <button class="icon-button" id="attach-file" title="Attach File">
                      <span class="material-icons">attach_file</span>
                  </button>
              </div>
              <div class="message-input-wrapper">
                  <input type="text" id="message-input" placeholder="Type a message">
                  <button class="icon-button" id="send-message" title="Send">
                      <span class="material-icons">send</span>
                  </button>
              </div>
          </div>
        </div>

        <!-- File Transfer Progress -->
        <div id="transfer-progress" class="transfer-progress hidden">
          <div class="progress-container">
            <div class="progress-bar">
              <div id="progress" class="progress"></div>
            </div>
          </div>
          <div id="transfer-info"></div>
        </div>
      </div>
    </div>

    <!-- Hidden File Input -->
    <input type="file" id="file-input" multiple class="hidden">

    <!-- Notifications -->
    <div id="notifications" class="notifications"></div>

    <!-- Context Menu for Messages -->
    <div id="message-context-menu" class="context-menu hidden">
      <ul>
        <li data-action="reply"><span class="material-icons">reply</span>Reply</li>
        <li data-action="react"><span class="material-icons">add_reaction</span>React</li>
        <li data-action="copy"><span class="material-icons">content_copy</span>Copy</li>
        <li data-action="delete"><span class="material-icons">delete</span>Delete</li>
      </ul>
    </div>
  </div>
  <script src="script.js"></script>
</body>
</html>
